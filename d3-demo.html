<!DOCTYPE html>
<html lang="en">
  <head>
	<title>p2p Network Connectivity Graph</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

    <script src="js/lib/jquery-2.2.4.min.js"></script>
    <script src="js/lib/d3.v4.min.js"></script>    
    <script src="js/timemachine.js"></script>
    <script src="js/visuals.js"></script>
    <script src="js/network.js"></script>
    <script src="js/chord.js"></script>
    
    <link rel="stylesheet" href="css/d3.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    
  </head>
  <body>
    <div class="wrapper">
      <header> 
        <div class="logo">
          <img src="img/swarm-logo-horizontal.png"/>
          <img src="img/swarm-text.png"/>
        </div>
        <!-- Currently disabled
        <div class="backend-monitor">
          <div class="monitor-label">Backend connection status</div>
          <div class="monitor-indicator" id="backend-ok"></div>
          <div class="monitor-indicator" id="backend-nok"></div>
        </div>
        -->
        <div class="title">
          p2p Network Connectivity Graph
        </div>
        <!-- Currently disabled
        <div class="menu" onclick="showMenu()">
          <div class="bar1"></div>
          <div class="bar2"></div>
          <div class="bar3"></div>
        </div>
        -->
      </header>
      <menu>
       <ul class="mainmenu">
          <li id="selectmocker" class="menuitem">Select Mocker</li>
       </ul>  
      </menu> 
      <div id="sidebar" class=sidebar>
        <div class="controls">
          <i id="power" class="fa fa-power-off" aria-hidden="true"></i>
          <!--
          <i id="play" class="fa fa-play-circle" aria-hidden="true"></i>
          -->
          <i id="stop" class="invisible fa fa-stop" aria-hidden="true"></i>
          <i id="pause" class="invisible fa fa-pause" aria-hidden="true"></i>
          <div class="display">
            <div class="elapsed">Time elapsed: <span id="time-elapsed">00:00:00</span></div>
            <div class="label">
              <!--
              Selected simulation: <div id="selected-simulation"></div>
              -->
            </div>
          </div>
        </div>
        <div class="actions">
          <input id="timemachine" style="display:none" type="range">
        </div>
        <div class="control-options">
          <input id="rec-messages" type="checkbox" class="link-action"/>Record message events
          <button id="show-conn-graph" onclick="showConnectionGraph()" class="invisible link-action">Show connection graph </button>
          <i id="info-message-events" class="fa info-circle" aria-hidden="true"></i>
        </div>
        <div class="two-counts counts">
          <table>
            <thead>
              <td width="20%" class="node-counts"></td>
              <td width="40%" class="count-type node-counts">Nodes</td>
              <td width="40%" class="count-type conn-counts">Connections</td>
            </thead>
            <tbody>
              <tr>
                <td class="count-labels">Up</td>
                <td id="nodes-up-count"    class="node-counts">0</td>
                <td id="edges-up-count"    class="conn-counts">0</td>
              </tr>
              <tr>
                <td class="count-labels">Added</td>
                <td id="nodes-add-count"    class="node-counts">0</td>
                <td id="edges-add-count"    class="conn-counts">0</td>
              </tr>
              <tr>
                <td class="count-labels">Removed</td>
                <td id="nodes-remove-count"    class="node-counts">0</td>
                <td id="edges-remove-count"    class="conn-counts">0</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="one-count counts msg-counts">
          <div class="count-type">
              Messages
          </div>
          <div id="msg-count">0
          </div>
        </div>

        <div id="selected-node">
          <div class="node-bar">
            <h3>Node Information</h1>
            <div class="node-display">
              ID: <span id="node-id"></span> 
              <br/>Index: <span id="node-index"></span> 
            </div>
            <div class="node-actions">
              <input type="hidden" id="target-id"/>
              <input type="hidden" id="full-node-id"/>
              <button type="button" class="nodeactions" onclick="killNode()">Stop this node</button>
              <button type="button" class="nodeactions" onclick="connectTo()">Connect this node to peer</button>
              <button type="button" class="nodeactions" onclick="killLink()">Disconnect a link</button>
            </div>
            <pre id="node-kademlia-table" class="kademlia-info"></pre>              
          </div>
        </div>
      </div>
      <div id="error-messages">
        Oooops - error connecting to backend!
        <br/>
        <div id="error-reason">
        </div>
      </div>
      <div id="status-messages">
      </div>
      <div id="visualisation-wrapper">
        <svg id="network-visualisation"></svg>
      </div>
    </div>
    <div id="Overlay" name="Overlay" class="overlay">
      <div id="close" class="close" onclick="funcClose(this);">X</div>
    </div>
    <div id="select-mocker" name="select-mocker" class="ui-dialog">
    </div>
    <div id="connection-graph" class="ui-dialog">
       <svg id="chord-diagram"></svg>
       <div class="invisible action-div" onclick="toggleChord()" id="toggle-chord">Show message graph</div>
    </div>
    <div id="output-window">
      <label><input type="checkbox" checked="checked" id="showlogs" name="showlogs" value="true">Enable log console</label>
      <div id="log-console"> </div>
    </div>
  </body>
</html>


